# Benchmark-optimized PostgreSQL settings (NOT FOR PRODUCTION)
# These prioritize speed over durability

# Memory - increase buffers for better caching
shared_buffers = 256MB
work_mem = 64MB
maintenance_work_mem = 256MB
effective_cache_size = 1GB

# WAL - reduce durability for speed
wal_level = minimal
max_wal_senders = 0
synchronous_commit = off
wal_buffers = 64MB
checkpoint_timeout = 30min
max_wal_size = 4GB
min_wal_size = 1GB

# Disable fsync for maximum speed (DATA LOSS RISK - dev only!)
fsync = off
full_page_writes = off

# Query planner - SSD optimizations
random_page_cost = 1.1
# effective_io_concurrency = 200  # Not supported on macOS (requires posix_fadvise)

# Parallel query
max_parallel_workers_per_gather = 4
max_parallel_workers = 8
max_worker_processes = 8

# Reduce logging overhead during benchmarks
log_min_duration_statement = -1
log_checkpoints = off
log_connections = off
log_disconnections = off

# Autovacuum - less aggressive during benchmarks
autovacuum_vacuum_cost_delay = 20ms
